{"version":3,"sources":["curt.js"],"names":["s","counter","mCounter","spaces","n","Array","length","join","replace","hasWhiteSpace","indexOf","$","document","ready","minus","plus","watchChange","sum","each","ind","el","newValue","this","html","location","split","pCounter","value","index","elem","find","eq","quantity","click","cart","removeClass","quant","parent","siblings","closest","addClass","delete_prod","href"],"mappings":"aAiJC,SAAOA,SAAAC,GAbJ,QAcHA,EAZD,SAASC,SAASD,GAEd,QADAA,EAIJ,SAASE,OAAOC,GAGZ,OAFAA,GAAK,IACLA,EAAI,IAAIC,MAAM,EAAID,EAAEE,OAAS,GAAGC,KAAK,KAAOH,GACnCI,QAAQ,eAAgB,OAAOA,QAAQ,KAAM,IAE1D,SAASC,cAAcT,GACtB,OAAyB,GAAlBA,EAAEU,QAAQ,KAjJlBC,EAAEC,UAAUC,MAAM,WACd,IAAIC,EAAQH,EAAE,kBADhBC,EAAUC,EAAZ,iBACQC,EAAUH,EAAA,mBACVI,EAASJ,EAAA,iBAiHR,SAVDK,IAWE,IAAAC,EAAA,EAINN,EAAA,4BAAAO,KAAA,SAAAC,EAAAC,GAdQ,IAAIC,EAAWV,EAAEW,MAAMC,OAgBlBC,cADXH,GAdMA,EAAWA,EAASI,MAAM,SAcV,MAQ5BJ,GARIA,EAAAA,EAAAI,MAAA,MAQJ,GAAAJ,EAAA,IACSK,EAASzB,OAAQoB,GACfJ,GAAAI,IAEVV,EAAA,oBAAAY,KAAApB,OAAAc,GAAA,QA3GWU,EAAK,mBAALT,KAAA,SAAAU,EAAAC,GAGQF,IAAAA,EAARhB,EAAAW,MAAAQ,KAAA,gBAAAC,GAAA,GAAAR,OAHAI,EAAQA,EAAMF,MAAM,KAIV,IAAqBE,EAAQK,EAA7BV,MAAAQ,KAAA,aAAAP,OAAVI,EAAAA,EAAA,GACQG,EAAAA,MAAKA,KAAA,4BAAiC3B,KAAOc,OAAWe,EAARA,GAAxD,UAOCC,IAMLC,EAAAD,MAAA,WALItB,EAAE,gBAAgBwB,YAAY,UAM5BF,EAAM,aAAUE,YAAA,YAIjBrB,EAAAmB,MAAA,WAHD,IAAIG,EAAQzB,EAAEW,MAAMe,SAASC,SAAS,aAAaf,OAI3Cc,GAASC,GAEf3B,EAAAW,MAAFiB,QAA0B,mBAAAC,SAAsB,UAGvC7B,EAAGgB,MAAMF,SAANa,SAAR,aAAAf,KAAArB,SAAAkC,IAGKzB,EAAGgB,mBAART,KAAA,SAAAU,EAAAC,GACU,IAAAF,EAAAhB,EAACgB,MAAOK,KAAAA,gBAARD,GAAA,GAAAR,OAAqBI,EAAQK,EAAAA,MAA7B,KAFV,IAAIA,EAAWrB,EAAEW,MAAMQ,KAAK,aAAaP,OAGjCO,EAAKH,EAAA,GAINhB,EAAAW,MAAAQ,KAAA,4BAAAP,KAAApB,OAAAwB,EAAAK,GAAA,UAAXhB,MAaMD,EAAAkB,MAAA,WAEMN,IAAAA,EAAUhB,EAADW,MAADe,SAAaC,SAAgBP,aAAzCR,OACcE,IAATW,IAIEzB,EAAGW,MAAAe,SAACV,SAAOK,aAART,KAAAG,SAAAU,IACFN,EAAAA,mBAAKZ,KAAA,SAA4BK,EAAKpB,GAIvC,IAAAwB,EAAAhB,EAAAW,MAAAQ,KAAA,gBAAAC,GAAA,GAAAR,OAEdI,EAAAA,EAAAF,MAAA,KATO,IAAIO,EAAWrB,EAAEW,MAAMQ,KAAK,aAAaP,OAavCI,EAAAA,EAAU,GAExBhB,EAAiBmB,MAAKA,KAAA,4BAAtBP,KAAApB,OAAAwB,EAAAK,GAAA,UAMKhB,OARTyB,EAAYR,MAAM,WAcVtB,EAAGF,MAAAA,QAAcY,mBAAUmB,SAAA,UACvBnB,EAAAA,MAAQgB,SAAGhB,KAASI,eAApBF,KAAA,SAEHP,MAyBZL,EAAA,gBAAAsB,MAAA,WAfOrB,SAASY,SAASkB,KAAO","file":"curt.min.js","sourcesContent":["$(document).ready(function(){\r\n    let minus = $('.js_calc-minus'),\r\n        plus = $('.js_calc-plus'),\r\n        delete_prod = $('.js_delete_prod'),\r\n        cart = $('.js_open-cart');\r\n\r\n\r\n        // //  !! watching on change of prices\r\n        // $('.curt__price .price span').bind('DOMSubtreeModified', function(){\r\n        //     watchChange();\r\n        //     return false;\r\n        //     let newValue = $(this).html(),\r\n        //         sum = 0;\r\n        //     newValue = newValue.split(\" грн\");\r\n        //     newValue = newValue[0];\r\n        //     newValue = newValue.split(\" \");\r\n        //     newValue = newValue[0] + newValue[1];\r\n        //     newValue = Number(newValue);\r\n        //     sum += newValue;\r\n        //     console.log(sum);\r\n        // });\r\n        \r\n\r\n        $('.curt__products').each(function(index, elem) {\r\n    \r\n            let value = $(this).find('.prices span').eq(1).html();\r\n            value = value.split(\" \");\r\n    \r\n            let quantity = $(this).find('.js_quant').html();\r\n            value = value[0];\r\n            let sum = (value, quantity) => value * quantity;\r\n            $(this).find('.curt__price .price span').html(spaces(sum(value, quantity)) + \" грн\");\r\n        });\r\n\r\n        \r\n        watchChange();\r\n\r\n        // *open popap\r\n        cart.click(function(){\r\n            $('.modal__curt').removeClass('hidden');\r\n            $('.js_theme').removeClass('hidden');\r\n        });\r\n\r\n\r\n        // *count quantity\r\n        minus.click(function(){\r\n            let quant = $(this).parent().siblings('.js_quant').html();\r\n            if(quant <= 1){\r\n                $(this).closest('.curt__products').addClass('hidden');\r\n            }\r\n            $(this).parent().siblings('.js_quant').html(mCounter(quant));\r\n\r\n            $('.curt__products').each(function(index, elem) {\r\n    \r\n                let value = $(this).find('.prices span').eq(1).html();\r\n                value = value.split(\" \");\r\n        \r\n                let quantity = $(this).find('.js_quant').html();\r\n                value = value[0];\r\n                let sum = (value, quantity) => value * quantity;\r\n                $(this).find('.curt__price .price span').html(spaces(sum(value, quantity)) + \" грн\");\r\n            });\r\n\r\n\r\n            watchChange();\r\n            \r\n        });    \r\n        plus.click(function(){\r\n            let quant = $(this).parent().siblings('.js_quant').html();\r\n            if(quant >= 20){\r\n                \r\n            }\r\n            else{\r\n                $(this).parent().siblings('.js_quant').html(pCounter(quant));\r\n            \r\n\r\n\r\n                $('.curt__products').each(function(index, elem) {\r\n    \r\n                    let value = $(this).find('.prices span').eq(1).html();\r\n                    value = value.split(\" \");\r\n            \r\n                    let quantity = $(this).find('.js_quant').html();\r\n                    value = value[0];\r\n                    let sum = (value, quantity) => value * quantity;\r\n                    $(this).find('.curt__price .price span').html(spaces(sum(value, quantity)) + \" грн\");\r\n                });\r\n\r\n\r\n                watchChange();\r\n\r\n            }\r\n        });    \r\n        \r\n    // *delete product\r\n    delete_prod.click(function(){\r\n        $(this).closest('.curt__products').addClass('hidden');\r\n        $(this).parent().find('.price span').html('0 грн');\r\n\r\n        watchChange();\r\n    });\r\n\r\n    // *функция подсчета общей цены\r\n    function watchChange(){\r\n        let sum = 0;\r\n        $('.curt__price .price span').each(function(ind, el){\r\n            let newValue = $(this).html();\r\n            newValue = newValue.split(\" грн\");\r\n            newValue = newValue[0];\r\n            if(hasWhiteSpace(newValue)){\r\n                newValue = newValue.split(\" \");\r\n                newValue = newValue[0] + newValue[1];\r\n            }\r\n            newValue = Number(newValue);\r\n            sum += newValue;\r\n        });\r\n        $('.curt__summ span').html(spaces(sum) + \" грн\")\r\n    }\r\n        \r\n\r\n    // js coming to checkout page\r\n    $('.js_checkout').click(function(){\r\n        document.location.href = \"/front/dist/checkout.php\";\r\n    });  \r\n\r\n\r\n});\r\n\r\n\r\n// !do not touch\r\nfunction pCounter(counter){\r\n    counter++;\r\n    return counter;\r\n}\r\nfunction mCounter(counter){\r\n    counter--;\r\n    return counter;\r\n}\r\n\r\nfunction spaces(n) {\r\n    n += \"\";\r\n    n = new Array(4 - n.length % 3).join(\"U\") + n;\r\n    return n.replace(/([0-9U]{3})/g, \"$1 \").replace(/U/g, \"\");\r\n}\r\nfunction hasWhiteSpace(s) {\r\n\treturn s.indexOf(' ') >= 0;\r\n}\r\n"]}